<style>
    .main {
        background-color: #779679;
      padding-top: 30px;
    }
    .main-output {
      background-color: white;
      margin: auto;
      margin-bottom: 50px;
      padding: 25px;
      border-top: 1px solid #e5e5e5;
      font-family: 'Public Sans';
      width: 80%;
    }
  h2.head{
    text-align: center;
    font-size: 30px;
    color: #333;
    font-family: 'Public Sans';
    margin-bottom: 10px;
  }
  h3.sub_head{
    text-align: center;
    font-size: 20px;
    color: #777;
    font-family: 'Public Sans';
  }

    .name_error {
        display: none;
    }

    .email_error {
        display: none;
    }

    .rating_error {
        display: none;
    }

    .message_error {
        display: none;
    }

    .success_result {
        display: none;
    }
    .buttons{
      text-align: center;
    }
    #submit_btn {
        background: #779679;
      color: #fff;
      outline: 0;
      box-shadow: none;
      border: none;
      font-weight: 500;
      padding: 12px 20px;
      display: inline-block;
      text-transform: uppercase;
      width: 200px;
    }

    #back_btn a {
      color: #fff;
    }
    #back_btn {
        background: #779679;
      outline: 0;
      box-shadow: none;
      border: none;
      font-weight: 500;
      padding: 12px 20px;
      display: inline-block;
      text-transform: uppercase;
      width: 200px;
    }
  .btn.btn-file, .btn.fileinput-remove, .btn.fileinput-upload{
    background: #779679;
      outline: 0;
      box-shadow: none;
      border: none;
    color: #fff;
      font-weight: 500;
      padding: 12px 20px;
      display: inline-block;
      text-transform: uppercase;
  }
  #rating_group fieldset.rating{
    padding: 0;
    margin-bottom: 10px;
    font-size: 20px;
  }
  #rating_group{
    display: inline-block;
  }
  .form-group h4.head2, .message_group h4.head2{
    margin-bottom: 10px;
    font-family: 'Public Sans';
  }
  .form-group input{
    margin-bottom: 0;
  }
  .form-group{
    margin-bottom: 15px;
  }
  .message_group textarea{
    margin-bottom: 0;
  }
  .message_group{
    margin-bottom: 15px;
  }

  #name,#email,#message{
    outline: 0;
    box-shadow: none;
    width: 100%;
  }
  .file-preview .fileinput-remove {
    top: 0px;
    right: 0px;
    background: #779679;
    color: #fff;
    padding: 7px;
    border: none;
    box-shadow: none;
    }


    /* start rating */
    .star {
        font-size: 20px;
        color: black;
    }

    .rating {
        border: none;
    }

    /* :not(:checked) is a filter, so that browsers that don’t support :checked don’t 
follow these rules. Every browser that supports :checked also supports :not(), so
it doesn’t make the test unnecessarily selective */
    .rating:not(:checked)>input {
        position: absolute;
        top: -9999px;
        clip: rect(0, 0, 0, 0);
    }

    .rating:not(:checked)>label {
        float: right;
        width: 1em;
        padding: 0 .1em;
        overflow: hidden;
        white-space: nowrap;
        cursor: pointer;
        font-size: 200%;
        line-height: 1.2;
        color: #ddd;
        text-shadow: 1px 1px #bbb, 2px 2px #666, .1em .1em .2em rgba(0, 0, 0, .5);
    }

    .rating:not(:checked)>label:before {
        content: '★ ';
    }

    .rating>input:checked~label {
        color: black;
        text-shadow: 1px 1px black, 2px 2px black, .1em .1em .2em rgba(0, 0, 0, .5);
    }

    .rating:not(:checked)>label:hover,
    .rating:not(:checked)>label:hover~label {
        color: black;
        text-shadow: 1px 1px black, 2px 2px black, .1em .1em .2em rgba(0, 0, 0, .5);
    }

    .rating>input:checked+label:hover,
    .rating>input:checked+label:hover~label,
    .rating>input:checked~label:hover,
    .rating>input:checked~label:hover~label,
    .rating>label:hover~input:checked~label {
        color: black;
        text-shadow: 1px 1px black, 2px 2px black, .1em .1em .2em rgba(0, 0, 0, .5);
    }

    .rating>label:active {
        position: relative;
        top: 2px;
        left: 2px;
    }
    .clearfix:before,
    .clearfix:after {
        content: " ";
        /* 1 */
        display: table;
        /* 2 */
    }

    .clearfix:after {
        clear: both;
    }

    .clearfix {
        *zoom: 1;
    }

</style>


<div class="main">
    <div class="page-width">
        <div class="main-output">
    <form method="POST" id="testimonialForm" enctype="multipart/form-data">
        <h3 id="success" class="success_result" style="color: orange; margin-left: 300px;font-size: 26px;">Thank you for your Testimonial.</h3>
        <h2 class="head">New Testimonial</h2>
        <h3 class="sub_head">SUBMIT YOUR TESTIMONIAL</h3>
        <div class="form-group" id="name_group">
            <h4 class="head2">Name <strong style="color: #e02b27;">*</strong>
            </h4>
            <input id="name" type="text" name="name" > <br>
            <span id="name_val" class="name_error" style="color: red;font-weight: 500;">Name is Required</span>
        </div>
        <div class="form-group" id="email_group">
            <h4 class="head2">Email <strong style="color: red;">*</strong></h4>

            <input id="email" type="text" name="email" ><br>
            <span id="email_val" class="email_error" style="color: red;font-weight: 500;">Email is Required</span>
        </div>

        <div class="form-group" id="file_group">
            <h4 class="head2">Profile Images</h4>
            <input class="file" type="file" name="file" placeholder="Choose file" id="file" />
        </div><br>

        <div class="form-group" id="rating_group">
            <h4 class="head2">Rating <strong style="color: red;">*</strong></h4>
            <fieldset class="rating">
                <input type="radio" id="star5" name="rating" value="5" /><label for="star5" title="Rocks!">5 stars</label>
                <input type="radio" id="star4" name="rating" value="4" /><label for="star4" title="Pretty good">4 stars</label>
                <input type="radio" id="star3" name="rating" value="3" /><label for="star3" title="Meh">3 stars</label>
                <input type="radio" id="star2" name="rating" value="2" /><label for="star2" title="Kinda bad">2 stars</label>
                <input type="radio" id="star1" name="rating" value="1" /><label for="star1" title="Sucks big time">1 star</label>
            </fieldset>
          <span id="rating_val" class="rating_error" style="color: red;font-weight: 500;">Nothing Checked</span>
        </div>
        <div class="message_group">
            <h4 class="head2">Message <strong style="color: red;">*</strong></h4>
            <textarea id="message" name="message" rows="3" class="message_group" ></textarea><br>
            <span id="message_val" class="message_error" style="color: red;font-weight: 500;">Message is Required</span>
        </div><br>

        <div class="buttons">
            <button id="submit_btn" class="btn" onclick="myFunction(event)">Submit</button>
            <button id="back_btn" class="btn"><a href="/pages/testimonials">Back to Testimonials</a></button>
        </div>
    </form>
        </div>
    </div>
</div>

    <script>
        function myFunction(e) {
            e.preventDefault();

            //rating
            if ($("#testimonialForm :radio:checked").length == 0) {
                var name = document.getElementById("rating_val");
                name.classList.remove("rating_error");
            } else {
                var name = document.getElementById("rating_val");
                name.classList.add("rating_error");
            }

            //name
            if (document.getElementById("name").value == '') {
                var name = document.getElementById("name_val");
                name.classList.remove("name_error");

            } else {
                var name = document.getElementById("name_val");
                name.classList.add("name_error");

                var nameValue = document.getElementById("name").value;
            }

            //email
            if (document.getElementById("email").value == '') {
                var email = document.getElementById("email_val");
                email.classList.remove("email_error");

            } else {
                var email = document.getElementById("email_val");
                email.classList.add("email_error");

                var emailValue = document.getElementById("email").value;
            }

            //Message
            if (document.getElementById("message").value == '') {
                var message = document.getElementById("message_val");
                message.classList.remove("message_error");

            } else {
                var message = document.getElementById("message_val");
                message.classList.add("message_error");

                var messageValue = document.getElementById("message").value;
            }

            console.log(nameValue);
            console.log(emailValue);
            console.log(messageValue);

            //formSubmit(jewelryTypeValue, describeValue, imageValue, jewelryCategoryValue, gemsCategoryValue, priceValue);
            if ($("#testimonialForm :radio:checked").length != 0 && document.getElementById("name").value != '' && document.getElementById("email").value != '' && document.getElementById("message").value != '') {

                var formData = new FormData($('#testimonialForm')[0]);

                formData.append('tax_file', $('input[type=file]')[0].files[0]);

                $.ajax({
                    url: "https://testimonials.enterpriseapplicationdevelopers.com/api/add_testimonial",
                    type: "POST",
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(response) {


                        var success = document.getElementById("success");
                        success.classList.remove("success_result");


                        document.getElementById("testimonialForm").reset();
                    },

                });
            }
        }
    </script>
